<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://primefaces.org/ui">
<h:head>
  <title>Proveedores</title>
</h:head>
<h:body>
  <h:form id="forma1" prependId="false">
    <p:panel header="Proveedores">
      <p:commandButton value="nuevo" oncomplete="PF('nuevoDialog').show()" />
    </p:panel>

    <div class="card">
      <p:dataTable id="idproveedores" widgetVar="dtProveedores"
        var="proveedor" value="#{helloWorld.proveedores}"
        selectionMode="single" selection="#{helloWorld.selectedProv}"
        rowKey="#{proveedor.numide}">
        <p:ajax event="rowSelect" listener="#{helloWorld.someListener}"
          process="idproveedores" />

        <p:column headerText="Id">
          <h:outputText value="#{proveedor.id}" />
        </p:column>
        <p:column headerText="Nombre">
          <h:outputText value="#{proveedor.nombre}" />
        </p:column>
        <p:column headerText="Identificacion">
          <h:outputText value="#{proveedor.numide}" />
        </p:column>
        <p:column headerText="Direccion">
          <h:outputText value="#{proveedor.direccion}" />
        </p:column>
        <p:column headerText="Correo">
          <h:outputText value="#{proveedor.email}" />
        </p:column>
        <p:column headerText="Vehiculos">
          <h:outputText value="#{proveedor.vehiculos}" />
        </p:column>
        <p:column headerText="Edita">

          <p:commandButton class="ui-button-warning rounded-button"
            icon="ui-icon-search" process="@this"
            oncomplete="PF('editDialog').show()">
          </p:commandButton>
        </p:column>
        <p:column headerText="Borra">
          <p:commandButton class="ui-button-succes rounded-button"
            icon="ui-icon-search" process="@this"
            oncomplete="PF('borraDialog').show()">
          </p:commandButton>
        </p:column>
      </p:dataTable>
    </div>

    <p:dialog header="Nuevo" widgetVar="nuevoDialog" modal="true">
    <p:ajax event="close" update=":forma1" />
      <h:panelGrid id="nuevo2" columns="1" cellpadding="4">
        <h:outputText value="Nombre: " />
        <p:inputText value="#{helloWorld.nuevoProv.nombre}" />

        <h:outputText value="Identificacion: " />
        <p:inputText value="#{helloWorld.nuevoProv.numide}" />

        <h:outputText value="Direccion: " />
        <p:inputText value="#{helloWorld.nuevoProv.direccion}" />

        <h:outputText value="Correo: " />
        <p:inputText value="#{helloWorld.nuevoProv.email}" />

        <h:outputText value="Vehiculos: " />
        <p:inputText value="#{helloWorld.nuevoProv.vehiculos}" />


        <p:commandButton value="Submit"
          action="#{helloWorld.nuevoProveedor() }" oncomplete="PF('nuevoDialog').hide();" />
      </h:panelGrid>
    </p:dialog>

    <p:dialog id="dialog1" header="Edit" widgetVar="editDialog"  modal="true">
    <p:ajax event="close" update=":forma1" />
      <h:panelGrid id="edit1" columns="1" cellpadding="4">
        <h:outputText value="Id: " />
        <p:inputText id="qq0" value="#{helloWorld.editProv.id}" />

        <h:outputText value="Nombre: " />
        <p:inputText id="qq1" value="#{helloWorld.editProv.nombre}" />

        <h:outputText value="Identificacion: " />
        <p:inputText id="qq2" value="#{helloWorld.editProv.numide}" />

        <h:outputText value="Direccion: " />
        <p:inputText id="qq3" value="#{helloWorld.editProv.direccion}" />

        <h:outputText value="Correo: " />
        <p:inputText id="qq4" value="#{helloWorld.editProv.email}" />

        <h:outputText value="Vehiculos: " />
        <p:inputText id="qq5" value="#{helloWorld.editProv.vehiculos}" />

        <p:commandButton value="Edit"
          action="#{helloWorld.editaProveedor() }" oncomplete="PF('editDialog').hide();" />
      </h:panelGrid>
    </p:dialog>

    <p:dialog id="dialog2" header="Borra" widgetVar="borraDialog"  modal="true">
    <p:ajax event="close" update=":forma1" />
      <h:panelGrid id="borra1" columns="1" cellpadding="4">
        <h:outputText value="Id: " />
        <p:inputText id="qq01" value="#{helloWorld.borraProv.id}" />

        <h:outputText value="Nombre: " />
        <p:inputText id="qq11" value="#{helloWorld.borraProv.nombre}" />

        <h:outputText value="Identificacion: " />
        <p:inputText id="qq21" value="#{helloWorld.borraProv.numide}" />

        <h:outputText value="Direccion: " />
        <p:inputText id="qq31" value="#{helloWorld.borraProv.direccion}" />

        <h:outputText value="Correo: " />
        <p:inputText id="qq41" value="#{helloWorld.borraProv.email}" />

        <h:outputText value="Vehiculos: " />
        <p:inputText id="qq51" value="#{helloWorld.borraProv.vehiculos}" />

        <p:commandButton value="Borra"
          action="#{helloWorld.borraProveedor() }"  oncomplete="PF('borraDialog').hide();" />
      </h:panelGrid>
    </p:dialog>


  </h:form>

</h:body>
</html>
